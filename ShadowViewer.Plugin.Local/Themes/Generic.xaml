<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local2="using:ShadowViewer.Plugin.Local.Controls"
    xmlns:readers="using:ShadowViewer.Plugin.Local.Readers"
    xmlns:xaml="using:Microsoft.Graphics.Canvas.UI.Xaml">

    <Style BasedOn="{StaticResource DefaultSliderStyle}" TargetType="local2:ReaderSlider" />

    <Style TargetType="readers:MangaReader">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="readers:MangaReader">
                    <Grid x:Name="PART_RootGrid" Background="{ThemeResource LayerFillColorDefaultBrush}">
                        <xaml:CanvasAnimatedControl x:Name="PART_MainCanvas" ClearColor="Transparent" />
                        <!-- 页码信息 (左下角) -->
                        <Border
                            x:Name="PART_PageInfoPanel"
                            Margin="20"
                            Padding="12,6"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Bottom"
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource SystemControlForegroundBaseMediumLowBrush}"
                            CornerRadius="8"
                            BorderThickness="1"
                            IsHitTestVisible="False">
                            <TextBlock
                                x:Name="PART_PageInfoText"
                                Style="{ThemeResource CaptionTextBlockStyle}"
                                Text="0 / 0" />
                        </Border>
                        <!-- 缩放信息面板 (右下角) -->
                        <Border
                            x:Name="PART_InfoPanel"
                            Margin="20"
                            Padding="12"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom"
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource SystemControlForegroundBaseMediumLowBrush}"
                            CornerRadius="8"
                            BorderThickness="1" 
                            IsHitTestVisible="True"
                            Visibility="Collapsed">
                            <StackPanel Width="160" Spacing="8">
                                <TextBlock
                                    Opacity="0.7"
                                    Style="{ThemeResource CaptionTextBlockStyle}"
                                    Text="Zoom Level" />
                                <Grid ColumnDefinitions="*, Auto" ColumnSpacing="8">
                                    <Slider
                                        x:Name="PART_ZoomSlider"
                                        VerticalAlignment="Center"
                                        Maximum="500"
                                        Minimum="10"
                                        Value="100" />
                                    <TextBlock
                                        x:Name="PART_ZoomText"
                                        Grid.Column="1"
                                        Width="35"
                                        VerticalAlignment="Center"
                                        Style="{ThemeResource CaptionTextBlockStyle}"
                                        Text="100%"
                                        TextAlignment="Right" />
                                </Grid>

                                <TextBlock
                                    Margin="0,4,0,0"
                                    Opacity="0.7"
                                    Style="{ThemeResource CaptionTextBlockStyle}"
                                    Text="Offset" />
                                <TextBlock
                                    x:Name="PART_PositionText"
                                    FontFamily="Consolas"
                                    Style="{ThemeResource CaptionTextBlockStyle}"
                                    Text="X: 0, Y: 0" />

                                <Button
                                    x:Name="PART_ResetButton"
                                    Margin="0,4,0,0"
                                    HorizontalAlignment="Stretch"
                                    Content="Reset View" />
                            </StackPanel>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>